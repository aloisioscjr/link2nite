<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="UTF-8" />
  <title>Link2Nite ‚Äî Match. Meet. Tonight.</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="See what's hot, see who's going, match, and meet ‚Äî no endless chat." />
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0b0b12">
  <link rel="apple-touch-icon" href="icons/apple-touch-icon.png">
  <link rel="icon" sizes="192x192" href="icons/icon-192.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Link2Nite">

  <style>
    :root{
      --bg0:#020617;
      --bg1:#0b1220;
      --card:rgba(15,23,42,.78);
      --text:#e5e7eb;
      --muted:#9ca3af;
      --accent:#7c3aed;
      --accent2:#a78bfa;
      --good:#22c55e;
      --danger:#ef4444;
    }
    
    *{ margin:0; padding:0; box-sizing:border-box; }
    
    html,body{
      height:100%;
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
      background:var(--bg0);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      text-rendering:optimizeLegibility;
      overflow-x:hidden;
    }
    
    body{
      background:
        radial-gradient(1200px 800px at 20% -10%, rgba(124,58,237,.26), transparent 55%),
        radial-gradient(900px 650px at 100% 20%, rgba(59,130,246,.18), transparent 60%),
        radial-gradient(900px 650px at 60% 120%, rgba(34,197,94,.12), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
    }
    
    .container{
      max-width:600px;
      margin:0 auto;
      padding:20px;
    }
    
    /* Header */
    .header{
      padding:20px 0;
      text-align:center;
    }
    
    .logo{
      font-size:28px;
      font-weight:700;
      letter-spacing:-0.5px;
      color:var(--text);
      margin-bottom:8px;
      cursor:pointer;
      user-select:none;
    }
    
    .logo span{ color:var(--accent); }
    
    .header-cta{
      margin-top:12px;
    }
    
    .btn{
      display:inline-block;
      padding:12px 24px;
      border-radius:12px;
      font-size:16px;
      font-weight:600;
      text-decoration:none;
      border:none;
      cursor:pointer;
      transition:all 0.2s;
      text-align:center;
    }
    
    .btn-primary{
      background:var(--accent);
      color:white;
    }
    
    .btn-primary:hover{ background:var(--accent2); transform:translateY(-2px); }
    
    .btn-secondary{
      background:rgba(148,163,184,.15);
      color:var(--text);
      border:1px solid rgba(148,163,184,.2);
    }
    
    .btn-secondary:hover{ background:rgba(148,163,184,.25); }
    
    .btn-small{
      padding:8px 16px;
      font-size:14px;
    }
    
    /* Hero */
    .hero{
      text-align:center;
      padding:60px 0 80px;
      animation:fadeUp 0.6s ease;
      position:relative;
    }
    
    .hero-image{
      width:100%;
      max-width:600px;
      height:300px;
      border-radius:20px;
      object-fit:cover;
      margin:0 auto 40px;
      box-shadow:0 8px 40px rgba(0,0,0,.3);
      display:block;
    }
    
    .hero h1{
      font-size:48px;
      font-weight:800;
      line-height:1.1;
      margin-bottom:16px;
      letter-spacing:-1px;
    }
    
    .hero .sub{
      font-size:20px;
      color:var(--muted);
      margin-bottom:12px;
      line-height:1.5;
      max-width:500px;
      margin-left:auto;
      margin-right:auto;
    }
    
    .hero .sub-note{
      font-size:16px;
      color:var(--accent);
      margin-bottom:32px;
      font-weight:500;
    }
    
    .hero-ctas{
      display:flex;
      gap:12px;
      justify-content:center;
      flex-wrap:wrap;
    }

    .hidden{ display:none !important; }
    
    /* Section */
    .section{
      padding:60px 0;
      animation:fadeUp 0.6s ease;
    }
    
    .section-title{
      font-size:32px;
      font-weight:700;
      text-align:center;
      margin-bottom:40px;
      letter-spacing:-0.5px;
    }
    
    /* How it works */
    .steps{
      display:grid;
      gap:32px;
      margin-top:40px;
    }
    
    .step{
      background:var(--card);
      border:1px solid rgba(148,163,184,.1);
      border-radius:20px;
      padding:32px;
      text-align:center;
    }
    
    .step-number{
      width:60px;
      height:60px;
      border-radius:50%;
      background:var(--accent);
      color:white;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:24px;
      font-weight:700;
      margin:0 auto 20px;
    }
    
    .step h3{
      font-size:24px;
      font-weight:600;
      margin-bottom:12px;
    }
    
    .step p{
      color:var(--muted);
      line-height:1.6;
    }
    
    .step-mock{
      margin-top:24px;
      min-height:200px;
      background:rgba(124,58,237,.1);
      border-radius:12px;
      display:flex;
      align-items:center;
      justify-content:center;
      color:var(--muted);
      font-size:14px;
      overflow:hidden;
      position:relative;
    }
    
    .step-image{
      width:100%;
      height:100%;
      object-fit:cover;
      border-radius:12px;
    }
    
    .step-images-grid{
      display:grid;
      grid-template-columns:1fr;
      grid-template-rows:1fr 1fr;
      gap:8px;
      width:100%;
      padding:8px;
      height:100%;
    }
    
    .step-images-grid .step-image{
      border-radius:8px;
      width:100%;
      height:100%;
      object-fit:contain;
      display:block;
    }
    
    .step-mock-overlay{
      position:absolute;
      inset:0;
      background:linear-gradient(to top, rgba(0,0,0,.7), transparent);
      display:flex;
      align-items:flex-end;
      justify-content:center;
      padding:16px;
      color:white;
      font-weight:500;
    }
    
    /* Social proof */
    .proof{
      display:grid;
      grid-template-columns:repeat(auto-fit, minmax(140px, 1fr));
      gap:16px;
      margin-top:32px;
    }
    
    .proof-item{
      background:var(--card);
      border:1px solid rgba(148,163,184,.1);
      border-radius:12px;
      padding:20px;
      text-align:center;
    }
    
    .proof-item .emoji{
      font-size:32px;
      margin-bottom:8px;
    }
    
    .proof-item .text{
      font-size:14px;
      color:var(--muted);
    }
    
    /* Waitlist form */
    .waitlist-form{
      background:var(--card);
      border:1px solid rgba(148,163,184,.1);
      border-radius:20px;
      padding:40px;
      max-width:500px;
      margin:0 auto;
    }
    
    .form-group{
      margin-bottom:20px;
    }
    
    .form-group label{
      display:block;
      margin-bottom:8px;
      font-weight:500;
      color:var(--text);
      font-size:15px;
    }
    
    .form-group input[type="text"],
    .form-group input[type="email"],
    .form-group input[type="tel"],
    .form-group select{
      width:100%;
      padding:14px 16px;
      background:rgba(2,6,23,.5);
      border:1px solid rgba(148,163,184,.2);
      border-radius:10px;
      color:var(--text);
      font-size:16px;
      font-family:inherit;
    }
    
    .form-group input:focus,
    .form-group select:focus{
      outline:none;
      border-color:var(--accent);
      box-shadow:0 0 0 3px rgba(124,58,237,.1);
    }
    
    .form-group input.error,
    .form-group select.error{
      border-color:var(--danger);
    }
    
    .form-error{
      color:var(--danger);
      font-size:13px;
      margin-top:6px;
      display:none;
    }
    
    .form-error.show{ display:block; }
    
    .checkbox-group{
      display:flex;
      align-items:flex-start;
      gap:10px;
      margin-bottom:12px;
    }
    
    .checkbox-group input[type="checkbox"]{
      margin-top:4px;
      width:20px;
      height:20px;
      cursor:pointer;
      flex-shrink:0;
    }
    
    .checkbox-group label{
      font-size:14px;
      color:var(--text);
      margin:0;
      cursor:pointer;
      line-height:1.5;
    }
    
    .checkbox-group.required label::after{
      content:" *";
      color:var(--danger);
    }
    
    .women-first-note{
      background:rgba(124,58,237,.1);
      border:1px solid rgba(124,58,237,.3);
      border-radius:12px;
      padding:16px;
      margin:20px 0;
      text-align:center;
      color:var(--text);
      font-size:14px;
      line-height:1.5;
    }
    
    .form-submit{
      width:100%;
      margin-top:24px;
      padding:16px;
      font-size:18px;
    }
    
    /* Success screen */
    .success{
      background:var(--card);
      border:1px solid rgba(34,197,94,.3);
      border-radius:20px;
      padding:40px;
      text-align:center;
      max-width:500px;
      margin:0 auto;
      display:none;
    }
    
    .success.show{ display:block; }
    
    .success .emoji{ font-size:48px; margin-bottom:16px; }
    
    .success h2{
      font-size:28px;
      font-weight:700;
      margin-bottom:12px;
    }
    
    .success p{
      color:var(--muted);
      margin-bottom:24px;
      line-height:1.6;
    }
    
    .queue-position{
      background:rgba(124,58,237,.15);
      border:1px solid rgba(124,58,237,.3);
      border-radius:12px;
      padding:16px;
      margin:20px 0;
      font-size:16px;
    }
    
    .queue-position strong{
      color:var(--accent);
      font-size:24px;
      display:block;
      margin-top:4px;
    }
    
    .invite-link{
      background:rgba(2,6,23,.5);
      border:1px solid rgba(148,163,184,.2);
      border-radius:10px;
      padding:14px 16px;
      margin:16px 0;
      word-break:break-all;
      color:var(--accent);
      font-family:monospace;
      font-size:14px;
      text-align:left;
    }
    
    .copy-btn{
      width:100%;
      margin-top:12px;
    }
    
    /* Referral incentive */
    .referral-incentive{
      margin-top:32px;
      padding:24px;
      background:rgba(124,58,237,.1);
      border:1px solid rgba(124,58,237,.3);
      border-radius:16px;
      text-align:center;
    }
    
    .referral-incentive h3{
      font-size:22px;
      font-weight:600;
      margin-bottom:12px;
      color:var(--text);
    }
    
    .referral-incentive p{
      color:var(--muted);
      margin-bottom:20px;
      font-size:15px;
    }
    
    /* Admin Panel */
    .admin-panel{
      background:var(--card);
      border:1px solid rgba(148,163,184,.2);
      border-radius:20px;
      padding:32px;
      margin:40px auto;
      max-width:800px;
      display:none;
    }
    
    .admin-panel.show{ display:block; }
    
    .admin-panel h2{
      font-size:24px;
      margin-bottom:24px;
      color:var(--accent);
    }
    
    .admin-stats{
      display:grid;
      grid-template-columns:repeat(auto-fit, minmax(150px, 1fr));
      gap:16px;
      margin-bottom:32px;
    }
    
    .admin-stat{
      background:rgba(2,6,23,.5);
      border:1px solid rgba(148,163,184,.2);
      border-radius:12px;
      padding:20px;
      text-align:center;
    }
    
    .admin-stat-label{
      font-size:13px;
      color:var(--muted);
      margin-bottom:8px;
    }
    
    .admin-stat-value{
      font-size:28px;
      font-weight:700;
      color:var(--text);
    }
    
    .admin-table{
      width:100%;
      margin:24px 0;
      border-collapse:collapse;
    }
    
    .admin-table th,
    .admin-table td{
      padding:12px;
      text-align:left;
      border-bottom:1px solid rgba(148,163,184,.1);
    }
    
    .admin-table th{
      background:rgba(2,6,23,.5);
      font-weight:600;
      color:var(--text);
    }
    
    .admin-table td{
      color:var(--muted);
    }
    
    .admin-actions{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      margin-top:24px;
    }
    
    /* Reviews */
    .reviews{
      display:grid;
      grid-template-columns:repeat(auto-fit, minmax(280px, 1fr));
      gap:20px;
      margin-top:40px;
    }
    
    .review-card{
      background:var(--card);
      border:1px solid rgba(148,163,184,.1);
      border-radius:16px;
      padding:24px;
      box-shadow:0 4px 20px rgba(0,0,0,.2);
      transition:all 0.3s;
      position:relative;
    }
    
    .review-card:hover{
      transform:translateY(-2px);
      box-shadow:0 8px 30px rgba(124,58,237,.15);
    }
    
    .review-stars{
      color:#fbbf24;
      font-size:18px;
      margin-bottom:12px;
      letter-spacing:2px;
    }
    
    .review-text{
      color:var(--text);
      line-height:1.6;
      margin-bottom:16px;
      font-size:15px;
    }
    
    .review-author{
      display:flex;
      align-items:center;
      gap:8px;
      font-size:14px;
      color:var(--muted);
    }
    
    .review-verified{
      display:inline-flex;
      align-items:center;
      gap:4px;
      background:rgba(34,197,94,.15);
      color:#22c55e;
      padding:4px 8px;
      border-radius:6px;
      font-size:12px;
      font-weight:500;
      margin-left:8px;
    }
    
    /* FAQ Accordion */
    .faq{
      max-width:700px;
      margin:0 auto;
    }
    
    .faq-item{
      background:var(--card);
      border:1px solid rgba(148,163,184,.1);
      border-radius:12px;
      margin-bottom:12px;
      overflow:hidden;
      transition:all 0.3s;
    }
    
    .faq-item.active{
      border-color:rgba(124,58,237,.3);
    }
    
    .faq-question{
      width:100%;
      background:none;
      border:none;
      padding:20px 24px;
      text-align:left;
      cursor:pointer;
      display:flex;
      justify-content:space-between;
      align-items:center;
      color:var(--text);
      font-size:17px;
      font-weight:600;
      transition:color 0.2s;
    }
    
    .faq-question:hover{
      color:var(--accent);
    }
    
    .faq-question:focus{
      outline:2px solid var(--accent);
      outline-offset:2px;
    }
    
    .faq-icon{
      width:20px;
      height:20px;
      display:flex;
      align-items:center;
      justify-content:center;
      transition:transform 0.3s ease;
      flex-shrink:0;
      margin-left:16px;
      color:var(--muted);
    }
    
    .faq-item.active .faq-icon{
      transform:rotate(180deg);
      color:var(--accent);
    }
    
    .faq-icon svg{
      width:100%;
      height:100%;
      stroke:currentColor;
    }
    
    .faq-answer{
      max-height:0;
      overflow:hidden;
      transition:max-height 0.3s ease-out, opacity 0.3s ease-out;
      opacity:0;
    }
    
    .faq-item.active .faq-answer{
      max-height:500px;
      opacity:1;
    }
    
    .faq-answer-content{
      padding:0 24px 20px 24px;
      color:var(--muted);
      line-height:1.7;
      font-size:15px;
    }
    
    .faq-footer{
      text-align:center;
      margin-top:32px;
      padding-top:24px;
      border-top:1px solid rgba(148,163,184,.1);
      color:var(--muted);
      font-size:15px;
    }
    
    /* Footer */
    .footer{
      text-align:center;
      padding:60px 0 40px;
      border-top:1px solid rgba(148,163,184,.1);
      margin-top:80px;
    }
    
    .footer-links{
      display:flex;
      gap:24px;
      justify-content:center;
      margin-top:20px;
      flex-wrap:wrap;
    }
    
    .footer-links a{
      color:var(--muted);
      text-decoration:none;
      font-size:14px;
    }
    
    .footer-links a:hover{ color:var(--text); }
    
    /* Perks section */
    .perks{
      display:grid;
      grid-template-columns:repeat(auto-fit, minmax(280px, 1fr));
      gap:20px;
      margin-top:40px;
    }
    
    .perk-card{
      background:var(--card);
      border:1px solid rgba(148,163,184,.1);
      border-radius:16px;
      padding:24px;
      box-shadow:0 4px 20px rgba(0,0,0,.2);
      transition:all 0.3s;
      position:relative;
      overflow:hidden;
    }
    
    .perk-card::before{
      content:'';
      position:absolute;
      top:0;
      left:0;
      right:0;
      height:4px;
      background:linear-gradient(90deg, var(--accent), var(--accent2));
      opacity:0;
      transition:opacity 0.3s;
    }
    
    .perk-card:hover::before{
      opacity:1;
    }
    
    .perk-card:hover{
      transform:translateY(-4px);
      box-shadow:0 8px 30px rgba(124,58,237,.2);
      border-color:rgba(124,58,237,.3);
    }
    
    .perk-header{
      display:flex;
      align-items:center;
      gap:16px;
      margin-bottom:12px;
    }
    
    .perk-icon{
      width:50px;
      height:50px;
      display:flex;
      align-items:center;
      justify-content:center;
      background:rgba(124,58,237,.15);
      border-radius:12px;
      flex-shrink:0;
    }
    
    .perk-icon svg{
      width:28px;
      height:28px;
      stroke:var(--accent);
    }
    
    .perk-title{
      font-size:20px;
      font-weight:600;
      color:var(--text);
    }
    
    .perk-desc{
      color:var(--muted);
      line-height:1.6;
      font-size:15px;
    }
    
    .perks-disclaimer{
      margin-top:24px;
      padding:16px;
      background:rgba(148,163,184,.08);
      border:1px solid rgba(148,163,184,.15);
      border-radius:12px;
      text-align:center;
      color:var(--muted);
      font-size:14px;
    }
    
    .form-help-text{
      font-size:13px;
      color:var(--muted);
      margin-top:6px;
      line-height:1.4;
    }
    
    /* Animations */
    @keyframes fadeUp{
      from{ opacity:0; transform:translateY(20px); }
      to{ opacity:1; transform:translateY(0); }
    }
    
    /* Mobile */
    @media (max-width:600px){
      .hero h1{ font-size:36px; }
      .hero .sub{ font-size:18px; }
      .section-title{ font-size:28px; }
      .waitlist-form{ padding:24px; }
      .hero-ctas{ flex-direction:column; }
      .hero-ctas .btn{ width:100%; }
      .admin-stats{ grid-template-columns:1fr; }
      .reviews{ grid-template-columns:1fr; }
      .review-card{ padding:20px; }
      .faq-question{ padding:16px 20px; font-size:16px; }
      .faq-answer-content{ padding:0 20px 16px 20px; }
    }
    
    @media (min-width:601px) and (max-width:900px){
      .reviews{ grid-template-columns:repeat(2, 1fr); }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <div class="logo" id="logo-click">L2<span>N</span> Link2Nite</div>
    </div>

    <!-- Hero -->
    <!-- HERO IMAGE RESTORE -->
    <section class="hero">
      <img src="./rooftop.png" 
           alt="Elegant rooftop lounge with Manhattan skyline view" 
           class="hero-image"
           loading="eager"
           onerror="this.onerror=null; this.alt='Loading image...'; this.style.opacity='0.5'; this.style.minHeight='400px';" />
      <h1>Match. Meet. Tonight.</h1>
      <p class="sub">See what's hot, see who's going, match, and meet ‚Äî no endless chat.</p>
      <div class="hero-ctas">
        <button class="btn btn-primary" onclick="scrollToWaitlist()">Join the waitlist</button>
        <button class="btn btn-secondary" onclick="scrollToHowItWorks()">See how it works</button>
      </div>
      <p style="margin-top:16px; font-size:14px; color:var(--muted);">Invites only. Join the waitlist to get access.</p>
    </section>
    <!-- /HERO IMAGE RESTORE -->

    <!-- How it works -->
    <section class="section" id="how-it-works">
      <h2 class="section-title">How it works</h2>
      <div class="steps">
        <div class="step">
          <div class="step-number">1</div>
          <h3>Pick a spot</h3>
          <p>Pick where you're going tonight: rooftops, bars, lounges, parties.</p>
          <div class="step-mock">
            <div class="step-images-grid">
              <img src="./images/pick1.PNG" 
                   alt="Venue card 1" 
                 class="step-image"
                 loading="lazy" />
              <img src="./images/pick2.PNG" 
                   alt="Venue card 2" 
                   class="step-image"
                   loading="lazy" />
            </div>
            <div class="step-mock-overlay">üìç Place cards</div>
          </div>
        </div>
        <div class="step">
          <div class="step-number">2</div>
          <h3>See who's going</h3>
          <p>See who's going tonight. Real profiles, verification available.</p>
          <div class="step-mock">
            <img src="https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=600&h=300&fit=crop&q=80" 
                 alt="Social group" 
                 class="step-image"
                 loading="lazy" />
            <div class="step-mock-overlay">üë• Who's going list</div>
          </div>
        </div>
        <div class="step">
          <div class="step-number">3</div>
          <h3>Match & meet IRL</h3>
          <p>Match with who catches your eye and set the meet ‚Äî no runaround.</p>
          <div class="step-mock">
            <img src="https://images.unsplash.com/photo-1516589178581-6cd7833ae3b2?w=600&h=300&fit=crop&q=80" 
                 alt="People connecting" 
                 class="step-image"
                 loading="lazy" />
            <div class="step-mock-overlay">üíñ Match & chat</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Guestlist Perks -->
    <section class="section" id="perks">
      <h2 class="section-title">Link2Nite Guestlist Perks</h2>
      <p style="text-align:center; color:var(--muted); margin-bottom:40px; font-size:18px;">
        Real perks at partner rooftops, lounges, and bars.
      </p>
      <div class="perks">
        <div class="perk-card">
          <div class="perk-header">
            <div class="perk-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
              </svg>
            </div>
            <div class="perk-title">Free entry</div>
          </div>
          <div class="perk-desc">
            Free or reduced cover with RSVP before X time.
          </div>
        </div>
        <div class="perk-card">
          <div class="perk-header">
            <div class="perk-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
              </svg>
            </div>
            <div class="perk-title">1 drink special</div>
          </div>
          <div class="perk-desc">
            Partner drink deals until 10‚Äì11PM (varies by venue).
          </div>
        </div>
        <div class="perk-card">
          <div class="perk-header">
            <div class="perk-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="12" y1="1" x2="12" y2="23"></line>
                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
              </svg>
            </div>
            <div class="perk-title">Exclusive discounts</div>
          </div>
          <div class="perk-desc">
            Table/bottle specials on selected nights.
          </div>
        </div>
        <div class="perk-card">
          <div class="perk-header">
            <div class="perk-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
              </svg>
            </div>
            <div class="perk-title">Skip the line</div>
          </div>
          <div class="perk-desc">
            Priority entry when available.
          </div>
        </div>
        <div class="perk-card">
          <div class="perk-header">
            <div class="perk-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                <circle cx="9" cy="7" r="4"></circle>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
              </svg>
            </div>
            <div class="perk-title">Invite friends</div>
          </div>
          <div class="perk-desc">
            Invite 3 friends to move up the list.
          </div>
        </div>
      </div>
      <div class="perks-disclaimer">
        Perks are limited and vary by venue.
      </div>
    </section>

    <!-- Social proof -->
    <section class="section">
      <div class="proof">
        <div class="proof-item">
          <div class="emoji">üî•</div>
          <div class="text">Hot tonight in Manhattan</div>
        </div>
        <div class="proof-item">
          <div class="emoji">‚úî</div>
          <div class="text">Verified profiles</div>
        </div>
        <div class="proof-item">
          <div class="emoji">üõ°Ô∏è</div>
          <div class="text">No links, no spam</div>
        </div>
        <div class="proof-item">
          <div class="emoji">üë©</div>
          <div class="text">Women-first early access</div>
        </div>
      </div>
    </section>

    <!-- Waitlist -->
    <section class="section" id="waitlist">
      <h2 class="section-title">Join the waitlist</h2>
      
      <form class="waitlist-form" id="waitlist-form" onsubmit="submitWaitlist(event)">
        <div class="form-group">
          <label for="firstName">First name <span style="color:var(--danger)">*</span></label>
          <input type="text" id="firstName" name="firstName" placeholder="Your first name" required />
          <div class="form-error" id="firstName-error"></div>
        </div>
        
        <div class="form-group">
          <label for="lastName">Last name</label>
          <input type="text" id="lastName" name="lastName" placeholder="Your last name" />
        </div>
        
        <div class="form-group">
          <label for="email">Email <span style="color:var(--danger)">*</span></label>
          <input type="email" id="email" name="email" placeholder="you@email.com" required />
          <div class="form-error" id="email-error"></div>
        </div>
        
        <div class="form-group">
          <label for="phone">Phone <span style="color:var(--danger)">*</span></label>
          <input type="tel" id="phone" name="phone" placeholder="Phone (required)" required />
          <div class="form-help-text">We'll text your invite link. No spam.</div>
          <div class="form-error" id="phone-error"></div>
        </div>
        
        <div class="form-group">
          <label for="city">City <span style="color:var(--danger)">*</span></label>
          <select id="city" name="city" required onchange="toggleNeighborhood()">
            <option value="New York City" selected>New York City</option>
            <option value="Los Angeles">Los Angeles</option>
            <option value="Chicago">Chicago</option>
            <option value="Miami">Miami</option>
            <option value="Other">Other</option>
          </select>
        </div>
        
        <div class="form-group" id="neighborhood-group">
          <label for="neighborhood">Neighborhood <span style="color:var(--danger)">*</span></label>
          <select id="neighborhood" name="neighborhood" required>
            <option value="Manhattan" selected>Manhattan</option>
            <option value="Midtown">Midtown</option>
            <option value="Lower Manhattan">Lower Manhattan</option>
            <option value="Upper East Side">Upper East Side</option>
            <option value="Upper West Side">Upper West Side</option>
            <option value="Chelsea / Hudson Yards">Chelsea / Hudson Yards</option>
            <option value="East Village / LES">East Village / LES</option>
            <option value="Tribeca / SoHo">Tribeca / SoHo</option>
            <option value="Williamsburg">Williamsburg</option>
            <option value="Long Island City">Long Island City</option>
            <option value="Other / Not sure">Other / Not sure</option>
          </select>
          <div class="form-error" id="neighborhood-error"></div>
        </div>
        
        <div class="form-group">
          <label>I go out mostly on: <span style="color:var(--danger)">*</span></label>
        <div class="checkbox-group">
            <input type="checkbox" id="night-thu" name="nights" value="Thu" />
            <label for="night-thu">Thu</label>
        </div>
        <div class="checkbox-group">
            <input type="checkbox" id="night-fri" name="nights" value="Fri" />
            <label for="night-fri">Fri</label>
        </div>
          <div class="checkbox-group">
            <input type="checkbox" id="night-sat" name="nights" value="Sat" />
            <label for="night-sat">Sat</label>
          </div>
          <div class="checkbox-group">
            <input type="checkbox" id="night-sun" name="nights" value="Sun" />
            <label for="night-sun">Sun</label>
          </div>
          <div class="form-error" id="nights-error"></div>
        </div>
        
        <div class="form-group">
          <label>I'm here for: <span style="color:var(--danger)">*</span></label>
          <div class="checkbox-group">
            <input type="checkbox" id="intent-dating" name="intent" value="Dating" />
            <label for="intent-dating">Dating</label>
          </div>
          <div class="checkbox-group">
            <input type="checkbox" id="intent-friends" name="intent" value="Friends" />
            <label for="intent-friends">Friends</label>
          </div>
          <div class="checkbox-group">
            <input type="checkbox" id="intent-both" name="intent" value="Both" />
            <label for="intent-both">Both</label>
          </div>
          <div class="form-error" id="intent-error"></div>
        </div>
        
        <div class="form-group">
          <label for="gender">Gender <span style="color:var(--danger)">*</span></label>
          <select id="gender" name="gender" required>
            <option value="">Select your gender</option>
            <option value="Woman">Woman</option>
            <option value="Man">Man</option>
            <option value="Non-binary">Non-binary</option>
          </select>
          <div class="form-error" id="gender-error"></div>
        </div>
        
        <div class="checkbox-group required">
          <input type="checkbox" id="terms" name="terms" required />
          <label for="terms">I agree to Terms & Privacy</label>
        </div>
        <div class="form-error" id="terms-error"></div>
        
        <button type="submit" class="btn btn-primary form-submit">Join the waitlist</button>
      </form>

      <!-- Success screen -->
      <div class="success" id="success-screen">
        <div class="emoji">üéâ</div>
        <h2>You're on the list!</h2>
        <p style="margin-bottom:8px;">We'll text your invite link when your neighborhood drop opens.</p>
        <p style="margin-bottom:24px; font-size:14px; color:var(--muted);">Invite friends to move up:</p>
        
        <div class="queue-position" id="queue-position">
          <div>Your approximate position:</div>
          <strong id="position-number">‚Äî</strong>
        </div>
        
        <div class="referral-incentive">
          <h3>üéÅ Invite 3 friends ‚Üí unlock early access + 7 days of Link2Nite+ (at launch)</h3>
          <p>Share your invite link below and unlock premium features when 3 friends join.</p>
        </div>
        
        <div class="invite-link" id="invite-link">‚Äî</div>
        <button class="btn btn-primary copy-btn" onclick="copyInviteLink()">Copy invite link</button>
      </div>
    </section>

    <!-- Reviews -->
    <section class="section">
      <h2 class="section-title">What early users are saying</h2>
      <p style="text-align:center; color:var(--muted); margin-bottom:40px; font-size:18px;">
        Early access feedback.
      </p>
      <div class="reviews">
        <div class="review-card">
          <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <div class="review-text">"I finally know where it's worth going tonight. Hot spots actually match the vibe."</div>
          <div class="review-author">
            <span>Sofia M., 27</span>
            <span>‚Ä¢</span>
            <span>Manhattan</span>
          </div>
        </div>
        <div class="review-card">
          <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <div class="review-text">"Way less endless texting. We matched and met at the same rooftop."</div>
          <div class="review-author">
            <span>Camila R., 29</span>
            <span>‚Ä¢</span>
            <span>Chelsea</span>
          </div>
        </div>
        <div class="review-card">
          <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <div class="review-text">"Women-first feels cleaner. No weird link spam in chat."</div>
          <div class="review-author">
            <span>Jade T., 26</span>
            <span>‚Ä¢</span>
            <span>East Village</span>
            <span class="review-verified">‚úì Verified</span>
          </div>
        </div>
        <div class="review-card">
          <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <div class="review-text">"Seeing who's going makes picking a place so much easier."</div>
          <div class="review-author">
            <span>Lauren K., 31</span>
            <span>‚Ä¢</span>
            <span>Midtown</span>
          </div>
        </div>
        <div class="review-card">
          <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <div class="review-text">"Guestlist perks are clutch when you're going out last minute."</div>
          <div class="review-author">
            <span>Ana P., 28</span>
            <span>‚Ä¢</span>
            <span>SoHo</span>
          </div>
        </div>
        <div class="review-card">
          <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <div class="review-text">"I met someone in under an hour because we were headed to the same lounge."</div>
          <div class="review-author">
            <span>Bri S., 24</span>
            <span>‚Ä¢</span>
            <span>LES</span>
            <span class="review-verified">‚úì Verified</span>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section class="section">
      <h2 class="section-title" style="margin-bottom:32px;">FAQ</h2>
      <div class="faq">
        <div class="faq-item">
          <button class="faq-question" aria-expanded="false" aria-controls="faq-answer-1" id="faq-question-1" onclick="toggleFaq(1)">
            <span>How is Link2Nite different from Tinder?</span>
            <span class="faq-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
            </span>
          </button>
          <div class="faq-answer" id="faq-answer-1" role="region" aria-labelledby="faq-question-1">
            <div class="faq-answer-content">
              Link2Nite starts with real places. See where it's hot, see who's going, match‚Äîand meet IRL faster.
            </div>
          </div>
        </div>
        <div class="faq-item">
          <button class="faq-question" aria-expanded="false" aria-controls="faq-answer-2" id="faq-question-2" onclick="toggleFaq(2)">
            <span>Do I need to pay to use it?</span>
            <span class="faq-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
            </span>
          </button>
          <div class="faq-answer" id="faq-answer-2" role="region" aria-labelledby="faq-question-2">
            <div class="faq-answer-content">
              No. Early access is free to join. Link2Nite+ will be optional later for power features.
            </div>
          </div>
        </div>
        <div class="faq-item">
          <button class="faq-question" aria-expanded="false" aria-controls="faq-answer-3" id="faq-question-3" onclick="toggleFaq(3)">
            <span>When do invites drop?</span>
            <span class="faq-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
            </span>
          </button>
          <div class="faq-answer" id="faq-answer-3" role="region" aria-labelledby="faq-question-3">
            <div class="faq-answer-content">
              Weekly drops by neighborhood to keep the experience great (Manhattan first).
        </div>
          </div>
        </div>
        <div class="faq-item">
          <button class="faq-question" aria-expanded="false" aria-controls="faq-answer-4" id="faq-question-4" onclick="toggleFaq(4)">
            <span>Which neighborhoods launch first?</span>
            <span class="faq-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
            </span>
          </button>
          <div class="faq-answer" id="faq-answer-4" role="region" aria-labelledby="faq-question-4">
            <div class="faq-answer-content">
              Manhattan first, then nearby NYC areas based on waitlist demand.
            </div>
          </div>
        </div>
        <div class="faq-item">
          <button class="faq-question" aria-expanded="false" aria-controls="faq-answer-5" id="faq-question-5" onclick="toggleFaq(5)">
            <span>How do guestlist perks work?</span>
            <span class="faq-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
            </span>
          </button>
          <div class="faq-answer" id="faq-answer-5" role="region" aria-labelledby="faq-question-5">
            <div class="faq-answer-content">
              Partner venues may offer perks like free entry or a drink special before a set time. Perks vary and are limited during early access.
            </div>
          </div>
        </div>
        <div class="faq-item">
          <button class="faq-question" aria-expanded="false" aria-controls="faq-answer-6" id="faq-question-6" onclick="toggleFaq(6)">
            <span>Is it safe? What about spam?</span>
            <span class="faq-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
            </span>
          </button>
          <div class="faq-answer" id="faq-answer-6" role="region" aria-labelledby="faq-question-6">
            <div class="faq-answer-content">
              One-tap report/block, no links in chat, and profile verification. We keep it clean.
            </div>
          </div>
        </div>
        <div class="faq-item">
          <button class="faq-question" aria-expanded="false" aria-controls="faq-answer-7" id="faq-question-7" onclick="toggleFaq(7)">
            <span>Can I use it to meet friends too?</span>
            <span class="faq-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
            </span>
          </button>
          <div class="faq-answer" id="faq-answer-7" role="region" aria-labelledby="faq-question-7">
            <div class="faq-answer-content">
              Yes‚Äîchoose Dating, Friends, or Both. Link2Nite is about your night out, not just dating.
            </div>
          </div>
        </div>
        <div class="faq-item">
          <button class="faq-question" aria-expanded="false" aria-controls="faq-answer-8" id="faq-question-8" onclick="toggleFaq(8)">
            <span>Do I have to show my age or distance?</span>
            <span class="faq-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
            </span>
          </button>
          <div class="faq-answer" id="faq-answer-8" role="region" aria-labelledby="faq-question-8">
            <div class="faq-answer-content">
              You'll enter age, but you can choose what to display in Settings.
            </div>
          </div>
        </div>
        <div class="faq-item">
          <button class="faq-question" aria-expanded="false" aria-controls="faq-answer-9" id="faq-question-9" onclick="toggleFaq(9)">
            <span>How do verified profiles work?</span>
            <span class="faq-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
            </span>
          </button>
          <div class="faq-answer" id="faq-answer-9" role="region" aria-labelledby="faq-question-9">
            <div class="faq-answer-content">
              Submit a quick selfie check. Verification is reviewed in small batches.
            </div>
          </div>
        </div>
        <div class="faq-item">
          <button class="faq-question" aria-expanded="false" aria-controls="faq-answer-10" id="faq-question-10" onclick="toggleFaq(10)">
            <span>How do I get access faster?</span>
            <span class="faq-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
            </span>
          </button>
          <div class="faq-answer" id="faq-answer-10" role="region" aria-labelledby="faq-question-10">
            <div class="faq-answer-content">
              Invite friends. Referrals move you up the list‚Äîespecially for your neighborhood's drop.
            </div>
          </div>
        </div>
      </div>
      <div class="faq-footer">
        Still have questions? Join the waitlist and we'll keep you posted.
      </div>
    </section>

    <!-- Footer -->
    <!-- INVITE CODE GATE -->
    <footer class="footer">
      <div style="color:var(--muted); margin-bottom:20px;">¬© 2026 Link2Nite</div>
      <div class="footer-links">
        <a href="#" onclick="openModal('terms'); return false;">Terms</a>
        <a href="#" onclick="openModal('privacy'); return false;">Privacy</a>
        <a href="#" onclick="openModal('invite-code'); return false;" style="font-size:13px; opacity:0.7;">Have an invite? Enter code</a>
      </div>
    </footer>
    <!-- /INVITE CODE GATE -->
  </div>

  <!-- Admin Panel -->
  <div class="admin-panel" id="admin-panel">
    <h2>üîí Admin Panel</h2>
    <div class="admin-stats" id="admin-stats"></div>
    <div id="admin-content"></div>
    <div class="admin-actions">
      <button class="btn btn-primary" onclick="exportJSON()">Export JSON</button>
      <button class="btn btn-primary" onclick="exportCSV()">Export CSV</button>
      <button class="btn btn-secondary" onclick="clearWaitlist()">Clear waitlist</button>
    </div>
  </div>

  <!-- Modals -->
  <div id="terms-modal" class="modal" style="display:none;">
    <div class="modal-content">
      <h3>Terms of Service</h3>
      <div style="color:var(--muted); line-height:1.6;">
        <p><strong>Service:</strong> Link2Nite is currently in early access. The app is provided "as is" without warranties.</p>
        <p><strong>Age Requirement:</strong> You must be 18+ to use Link2Nite.</p>
        <p><strong>Prohibited Conduct:</strong> Harassment, spam, fake profiles, and abusive behavior are strictly prohibited. You can block and report users.</p>
        <p><strong>Account Removal:</strong> We reserve the right to remove accounts that violate these terms.</p>
        <p><strong>Guestlist Perks:</strong> Perks vary by venue and availability. Perks may change during early access.</p>
        <p><strong>No Guarantees:</strong> We do not guarantee matches, meetups, or specific outcomes.</p>
      </div>
      <button class="btn btn-secondary" onclick="closeModal('terms')">Close</button>
    </div>
  </div>

  <div id="privacy-modal" class="modal" style="display:none;">
    <div class="modal-content">
      <h3>Privacy Policy</h3>
      <div style="color:var(--muted); line-height:1.6;">
        <p><strong>Data Collection:</strong> We collect information from the waitlist form (name, email, phone, city, neighborhood) and app usage data.</p>
        <p><strong>Use of Data:</strong> We use your data to send invites, communicate about the service, and improve the app.</p>
        <p><strong>Data Sharing:</strong> We do not sell your personal data. We may share aggregated, anonymized data with partner venues (no personally identifiable information).</p>
        <p><strong>Data Removal:</strong> You can request removal of your data by emailing support@link2nite.com</p>
        <p><strong>Early Access Period:</strong> Privacy practices may evolve during early access. We'll notify users of significant changes.</p>
      </div>
      <button class="btn btn-secondary" onclick="closeModal('privacy')">Close</button>
    </div>
  </div>

  <!-- INVITE CODE GATE -->
  <div id="invite-code-modal" class="modal" style="display:none;">
    <div class="modal-content">
      <h3>Enter Invite Code</h3>
      <div style="margin-bottom:20px;">
        <input type="text" id="invite-code-input" placeholder="AB12CD" style="width:100%; padding:12px; border:1px solid rgba(148,163,184,.2); border-radius:8px; background:var(--bg); color:var(--text); font-size:16px; text-align:center; letter-spacing:2px; text-transform:uppercase;" maxlength="10" />
        <div class="form-error" id="invite-code-error" style="margin-top:8px;"></div>
      </div>
      <button class="btn btn-primary" onclick="validateInviteCode()" style="width:100%;">Unlock access</button>
      <p style="margin-top:16px; font-size:13px; color:var(--muted); text-align:center;">Codes are limited during early access.</p>
    </div>
  </div>
  <!-- /INVITE CODE GATE -->

  <style>
    .modal{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.8);
      z-index:10000;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:20px;
    }
    .modal-content{
      background:var(--card);
      border:1px solid rgba(148,163,184,.2);
      border-radius:20px;
      padding:32px;
      max-width:500px;
      width:100%;
    }
    .modal-content h3{
      font-size:24px;
      margin-bottom:16px;
    }
    .modal-content p{
      color:var(--muted);
      line-height:1.6;
      margin-bottom:24px;
    }
  </style>

  <script>
    // <!-- INVITE CODE GATE -->
    // App URL for redirect after invite code validation
    const APP_URL = "./index.html";
    
    // Valid invite codes (edit this list as needed)
    const VALID_INVITE_CODES = ["L2NMANHAT", "BETA2026", "LINK2NITE"];
    // <!-- /INVITE CODE GATE -->
    
    // <!-- SHEETS INTEGRATION -->
    // Google Apps Script Web App endpoint for waitlist
    const WAITLIST_ENDPOINT = "https://script.google.com/macros/s/AKfycbxnPAbUdYLuTL4dN0x0Z0nJIVjmqZECNfiP-o3OVqy7ThzgGCLG9Gf_mr-FJZKOLVDp0g/exec";
    // <!-- /SHEETS INTEGRATION -->
    
    // Admin access
    let logoClickCount = 0;
    let logoClickTimeout = null;
    const logoEl = document.getElementById("logo-click");
    
    logoEl.addEventListener("click", () => {
      logoClickCount++;
      if(logoClickCount >= 7){
        showAdminPanel();
        logoClickCount = 0;
      }
      clearTimeout(logoClickTimeout);
      logoClickTimeout = setTimeout(() => {
        logoClickCount = 0;
      }, 2000);
    });
    
    // Check URL for admin
    const urlParams = new URLSearchParams(window.location.search);
    if(urlParams.get("admin") === "1"){
      showAdminPanel();
    }
    
    function showAdminPanel(){
      document.getElementById("admin-panel").classList.add("show");
      renderAdminPanel();
    }
    
    function renderAdminPanel(){
      const waitlist = getWaitlist();
      const stats = calculateStats(waitlist);
      
      // <!-- SHEETS INTEGRATION -->
      // Check if Sheets endpoint is configured
      const sheetsConfigured = WAITLIST_ENDPOINT && !WAITLIST_ENDPOINT.includes("PASTE_");
      const sheetsStatus = sheetsConfigured ? 
        `<div style="background:rgba(34,197,94,.15); border:1px solid rgba(34,197,94,.3); border-radius:8px; padding:12px; margin-bottom:24px; color:var(--text);">
          ‚úÖ Google Sheets integration enabled
        </div>` :
        `<div style="background:rgba(255,193,7,.15); border:1px solid rgba(255,193,7,.3); border-radius:8px; padding:12px; margin-bottom:24px; color:var(--text);">
          ‚ö†Ô∏è To collect leads in Google Sheets: paste your Apps Script Web App URL into WAITLIST_ENDPOINT (in the script section).
        </div>`;
      
      // Count how many haven't been sent
      const notSentCount = waitlist.filter(e => !e.sentToSheets).length;
      const sendAllButton = sheetsConfigured && notSentCount > 0 ?
        `<button class="btn btn-primary" onclick="sendAllLocalLeadsToSheets()" id="send-all-btn" style="margin-top:12px;">
          Send all local leads to Sheets (${notSentCount} pending)
        </button>
        <div id="send-all-progress" style="margin-top:12px; display:none; color:var(--muted); font-size:14px;"></div>` :
        sheetsConfigured && notSentCount === 0 ?
        `<div style="margin-top:12px; color:var(--muted); font-size:14px;">‚úÖ All leads synced to Sheets</div>` :
        "";
      // <!-- /SHEETS INTEGRATION -->
      
      // Stats
      document.getElementById("admin-stats").innerHTML = `
        <div class="admin-stat">
          <div class="admin-stat-label">Total</div>
          <div class="admin-stat-value">${stats.total}</div>
        </div>
        <div class="admin-stat">
          <div class="admin-stat-label">Women-first</div>
          <div class="admin-stat-value">${stats.womenFirst}</div>
        </div>
        <div class="admin-stat">
          <div class="admin-stat-label">General</div>
          <div class="admin-stat-value">${stats.general}</div>
        </div>
      `;
      
      // Neighborhood breakdown
      let neighborhoodHtml = "<h3 style='margin-top:24px;'>By Neighborhood</h3><table class='admin-table'><thead><tr><th>Neighborhood</th><th>Count</th></tr></thead><tbody>";
      Object.entries(stats.byNeighborhood).sort((a,b) => b[1] - a[1]).forEach(([n, count]) => {
        neighborhoodHtml += `<tr><td>${n}</td><td>${count}</td></tr>`;
      });
      neighborhoodHtml += "</tbody></table>";
      
      // Nights breakdown
      let nightsHtml = "<h3 style='margin-top:24px;'>By Nights</h3><table class='admin-table'><thead><tr><th>Night</th><th>Count</th></tr></thead><tbody>";
      Object.entries(stats.byNights).forEach(([night, count]) => {
        nightsHtml += `<tr><td>${night}</td><td>${count}</td></tr>`;
      });
      nightsHtml += "</tbody></table>";
      
      // Top referrers
      let referrersHtml = "<h3 style='margin-top:24px;'>Top Referrers</h3><table class='admin-table'><thead><tr><th>Ref Code</th><th>Referrals</th></tr></thead><tbody>";
      Object.entries(stats.topReferrers).sort((a,b) => b[1] - a[1]).slice(0, 10).forEach(([code, count]) => {
        referrersHtml += `<tr><td>${code}</td><td>${count}</td></tr>`;
      });
      referrersHtml += "</tbody></table>";
      
      // <!-- SHEETS INTEGRATION -->
      document.getElementById("admin-content").innerHTML = sheetsStatus + sendAllButton + neighborhoodHtml + nightsHtml + referrersHtml;
      // <!-- /SHEETS INTEGRATION -->
    }
    
    function calculateStats(waitlist){
      const stats = {
        total: waitlist.length,
        womenFirst: 0,
        general: 0,
        byNeighborhood: {},
        byNights: { Thu: 0, Fri: 0, Sat: 0, Sun: 0 },
        topReferrers: {}
      };
      
      waitlist.forEach(entry => {
        if(entry.priorityTag === "women_first") stats.womenFirst++;
        else stats.general++;
        
        const n = entry.neighborhood || "Unknown";
        stats.byNeighborhood[n] = (stats.byNeighborhood[n] || 0) + 1;
        
        if(entry.nights){
          entry.nights.forEach(night => {
            if(stats.byNights.hasOwnProperty(night)){
              stats.byNights[night]++;
            }
          });
        }
        
        if(entry.referrer){
          stats.topReferrers[entry.referrer] = (stats.topReferrers[entry.referrer] || 0) + 1;
        }
      });
      
      return stats;
    }
    
    function exportJSON(){
      const waitlist = getWaitlist();
      const json = JSON.stringify(waitlist, null, 2);
      downloadFile(json, "waitlist.json", "application/json");
    }
    
    function exportCSV(){
      const waitlist = getWaitlist();
      const headers = ["ID", "First Name", "Last Name", "Email", "Phone (Digits)", "Phone (E.164)", "Phone (Raw)", "City", "Neighborhood", "Nights", "Intent", "Gender", "Priority Tag", "Referrer", "Ref Code", "UTM Source", "UTM Campaign", "UTM Content", "Created At"];
      const rows = waitlist.map(e => [
        e.id,
        e.firstName || "",
        e.lastName || "",
        e.email || "",
        e.phone || "",
        e.phoneE164 || "",
        e.phoneRaw || "",
        e.city || "",
        e.neighborhood || "",
        (e.nights || []).join(";"),
        (e.intent || []).join(";"),
        e.gender || "",
        e.priorityTag || "",
        e.referrer || "",
        e.refCode || "",
        (e.utm && e.utm.source) || "",
        (e.utm && e.utm.campaign) || "",
        (e.utm && e.utm.content) || "",
        new Date(e.createdAt).toISOString()
      ]);
      
      const csv = [headers.join(","), ...rows.map(r => r.map(c => `"${String(c).replace(/"/g, '""')}"`).join(","))].join("\n");
      downloadFile(csv, "waitlist.csv", "text/csv");
    }
    
    function downloadFile(content, filename, mimeType){
      const blob = new Blob([content], { type: mimeType });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = filename;
      a.click();
      URL.revokeObjectURL(url);
    }
    
    function clearWaitlist(){
      if(confirm("Are you sure you want to clear the entire waitlist? This cannot be undone.")){
        localStorage.removeItem("l2n_waitlist");
        alert("Waitlist cleared.");
        renderAdminPanel();
      }
    }
    
    // Get URL parameters
    function getURLParams(){
      const params = new URLSearchParams(window.location.search);
      return {
        ref: params.get("ref") || null,
        utm_source: params.get("utm_source") || null,
        utm_campaign: params.get("utm_campaign") || null,
        utm_content: params.get("utm_content") || null
      };
    }
    
    // Toggle neighborhood field
    function toggleNeighborhood(){
      const city = document.getElementById("city").value;
      const neighborhoodGroup = document.getElementById("neighborhood-group");
      const neighborhoodSelect = document.getElementById("neighborhood");
      
      if(city === "New York City"){
        neighborhoodGroup.style.display = "block";
        neighborhoodSelect.required = true;
      } else {
        neighborhoodGroup.style.display = "none";
        neighborhoodSelect.required = false;
        neighborhoodSelect.value = "";
      }
    }
    
    // Scroll functions
    function scrollToWaitlist(){
      document.getElementById("waitlist").scrollIntoView({ behavior:"smooth", block:"start" });
    }
    
    function scrollToHowItWorks(){
      document.getElementById("how-it-works").scrollIntoView({ behavior:"smooth", block:"start" });
    }
    
    // Get waitlist from localStorage
    function getWaitlist(){
      try{
        return JSON.parse(localStorage.getItem("l2n_waitlist") || "[]");
      } catch(e){
        return [];
      }
    }
    
    // Save to waitlist
    function saveToWaitlist(entry){
      const waitlist = getWaitlist();
      waitlist.push(entry);
      localStorage.setItem("l2n_waitlist", JSON.stringify(waitlist));
    }
    
    // Generate referral code
    function generateReferralCode(email){
      let hash = 0;
      for(let i = 0; i < email.length; i++){
        const char = email.charCodeAt(i);
        hash = ((hash << 5) - hash) + char;
        hash = hash & hash;
      }
      const code = Math.abs(hash).toString(36).substring(0, 8).toUpperCase();
      return code;
    }
    
    // Validate email
    function validateEmail(email){
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }
    
    // Normalize US phone to E.164 format
    // Returns { e164: "+1XXXXXXXXXX", digits: "XXXXXXXXXX" } when possible
    // Or { digits: "XXXXXXXXXX" } if E.164 not possible
    function normalizeUSPhone(phoneRaw){
      if(!phoneRaw || !phoneRaw.trim()) return null;
      
      // Remove all non-digit characters except +
      let cleaned = phoneRaw.replace(/[^\d+]/g, "");
      
      // Remove leading + if present
      if(cleaned.startsWith("+")){
        cleaned = cleaned.substring(1);
      }
      
      // Extract just digits
      const digits = cleaned.replace(/\D/g, "");
      
      // Must have at least 10 digits (US minimum)
      if(digits.length < 10 || digits.length > 15){
        return null;
      }
      
      // Try to normalize to E.164
      let e164 = null;
      
      // If starts with 1 and has 11 digits, assume US
      if(digits.startsWith("1") && digits.length === 11){
        e164 = "+" + digits;
      }
      // If has exactly 10 digits, assume US and add +1
      else if(digits.length === 10){
        e164 = "+1" + digits;
      }
      
      return {
        e164: e164,
        digits: digits
      };
    }
    
    // Validate phone (required, US format - at least 10 digits)
    function validatePhone(phoneRaw){
      if(!phoneRaw || !phoneRaw.trim()) return false;
      
      // Extract digits only
      const digits = phoneRaw.replace(/\D/g, "");
      
      // Must have at least 10 digits (US minimum)
      return digits.length >= 10 && digits.length <= 15;
    }
    
    // Waitlist submission
    async function submitWaitlist(event){
      event.preventDefault();
      
      // Clear previous errors
      document.querySelectorAll(".form-error").forEach(el => {
        el.classList.remove("show");
        el.textContent = "";
      });
      document.querySelectorAll(".error").forEach(el => el.classList.remove("error"));
      
      const form = event.target;
      const firstName = form.firstName.value.trim();
      const lastName = (form.lastName && form.lastName.value) ? form.lastName.value.trim() : "";
      const email = form.email.value.trim().toLowerCase();
      const phoneRaw = form.phone.value.trim();
      const city = form.city.value;
      const neighborhood = form.neighborhood.value;
      const gender = form.gender.value;
      const terms = form.terms.checked;
      
      // Get nights
      const nights = [];
      ["night-thu", "night-fri", "night-sat", "night-sun"].forEach(id => {
        if(document.getElementById(id).checked){
          nights.push(document.getElementById(id).value);
        }
      });
      
      // Get intent
      const intent = [];
      ["intent-dating", "intent-friends", "intent-both"].forEach(id => {
        if(document.getElementById(id).checked){
          intent.push(document.getElementById(id).value);
        }
      });
      
      // Validation
      let hasError = false;
      
      if(!firstName){
        showError("firstName-error", "First name is required");
        form.firstName.classList.add("error");
        hasError = true;
      }
      
      if(!email){
        showError("email-error", "Email is required");
        form.email.classList.add("error");
        hasError = true;
      } else if(!validateEmail(email)){
        showError("email-error", "Please enter a valid email");
        form.email.classList.add("error");
        hasError = true;
      }
      
      if(!phoneRaw || !phoneRaw.trim()){
        showError("phone-error", "Phone number is required");
        form.phone.classList.add("error");
        hasError = true;
      } else if(!validatePhone(phoneRaw)){
        showError("phone-error", "Please enter a valid US phone number (e.g., +1 (555) 123-4567 or 555-123-4567)");
        form.phone.classList.add("error");
        hasError = true;
      }
      
      if(city === "New York City" && !neighborhood){
        showError("neighborhood-error", "Neighborhood is required for NYC");
        document.getElementById("neighborhood").classList.add("error");
        hasError = true;
      }
      
      if(nights.length === 0){
        showError("nights-error", "Please select at least one night");
        hasError = true;
      }
      
      if(intent.length === 0){
        showError("intent-error", "Please select at least one option");
        hasError = true;
      }
      
      if(!gender){
        showError("gender-error", "Please select your gender");
        form.gender.classList.add("error");
        hasError = true;
      }
      
      if(!terms){
        showError("terms-error", "You must agree to Terms & Privacy");
        hasError = true;
      }
      
      if(hasError) return;
      
      // Check if email already exists
      const waitlist = getWaitlist();
      const existing = waitlist.find(e => e.email === email);
      
      if(existing){
        // Show existing user's referral link (don't resend to Sheets)
        alert("You're already on the list! Showing your referral link...");
        showSuccessScreen(existing);
        return;
      }
      
      // Get submit button and show loading state
      const submitBtn = form.querySelector('button[type="submit"]');
      const originalBtnText = submitBtn.textContent;
      submitBtn.disabled = true;
      submitBtn.textContent = "Submitting‚Ä¶";
      
      // Get UTM params
      const params = getURLParams();
      
      // Determine priority tag
      const priorityTag = gender === "Woman" ? "women_first" : "general";
      
      // Generate referral code
      const refCode = generateReferralCode(email);
      
      // <!-- FUNNEL v2 -->
      // Normalize phone
      const phoneData = normalizeUSPhone(phoneRaw);
      
      // Get extra fields for Sheets
      const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
      const submittedAt = new Date().toISOString();
      
      // Create entry
      const entry = {
        id: Date.now().toString(),
        firstName,
        lastName: lastName || null,
        email,
        phoneRaw: phoneRaw, // Original input
        phone: phoneData ? phoneData.digits : null, // Digits (10-15 digits)
        phoneE164: phoneData ? phoneData.e164 : null, // E.164 format if available
        city,
        neighborhood: city === "New York City" ? neighborhood : null,
        nights,
        intent,
        gender: gender || null,
        priorityTag,
        referrer: params.ref || null,
        refCode,
        utm: {
          source: params.utm_source || null,
          campaign: params.utm_campaign || null,
          content: params.utm_content || null
        },
        // Extra fields for Sheets
        userAgent: navigator.userAgent,
        pageUrl: location.href,
        timezone: timezone,
        submittedAt: submittedAt,
        createdAt: Date.now()
      };
      
      // Save locally (fallback)
      saveToWaitlist(entry);
      
      // <!-- SHEETS INTEGRATION -->
      // Send to Google Sheets
      const sheetsResult = await sendWaitlistToSheets(entry);
      
      if(sheetsResult.ok){
        // Mark as sent
        entry.sentToSheets = true;
        const allWaitlist = getWaitlist();
        const index = allWaitlist.findIndex(e => e.id === entry.id);
        if(index !== -1){
          allWaitlist[index].sentToSheets = true;
          localStorage.setItem("l2n_waitlist", JSON.stringify(allWaitlist));
        }
        
        // Success - show brief confirmation
        submitBtn.textContent = "Saved ‚úì";
        submitBtn.style.background = "var(--good)";
        setTimeout(() => {
          submitBtn.textContent = originalBtnText;
          submitBtn.style.background = "";
          submitBtn.disabled = false;
        }, 2000);
      } else if(sheetsResult.skipped){
        // Endpoint not configured - silent skip
        submitBtn.disabled = false;
        submitBtn.textContent = originalBtnText;
      } else {
        // Failed - show warning but allow to proceed
        const warning = document.createElement("div");
        warning.style.cssText = "background:rgba(255,193,7,.15); border:1px solid rgba(255,193,7,.3); border-radius:8px; padding:12px; margin:16px 0; color:var(--text); font-size:14px;";
        warning.textContent = "Saved locally ‚Äî we'll sync later.";
        const formEl = document.getElementById("waitlist-form");
        formEl.parentNode.insertBefore(warning, formEl.nextSibling);
        setTimeout(() => warning.remove(), 5000);
        submitBtn.disabled = false;
        submitBtn.textContent = originalBtnText;
      }
      // <!-- /SHEETS INTEGRATION -->
      
      // TODO: send SMS/email invite
      // When neighborhood drop opens, send invite link via SMS (using phoneE164) or email
      // Integration point: Twilio for SMS, SendGrid/Mailgun for email
      // Trigger: based on priorityTag, neighborhood, and drop schedule
      // Show success screen
      showSuccessScreen(entry);
    }
    
    // <!-- SHEETS INTEGRATION -->
    // Send all local leads to Google Sheets (Admin function)
    async function sendAllLocalLeadsToSheets(){
      const waitlist = getWaitlist();
      const notSent = waitlist.filter(e => !e.sentToSheets);
      
      if(notSent.length === 0){
        alert("All leads are already synced!");
        return;
      }
      
      const btn = document.getElementById("send-all-btn");
      const progressEl = document.getElementById("send-all-progress");
      
      if(!btn || !progressEl) return;
      
      btn.disabled = true;
      progressEl.style.display = "block";
      progressEl.textContent = `Starting... (0/${notSent.length})`;
      
      let sentCount = 0;
      let failedCount = 0;
      
      for(let i = 0; i < notSent.length; i++){
        const entry = notSent[i];
        
        // Update progress
        progressEl.textContent = `Sending... (${i + 1}/${notSent.length})`;
        
        // Add extra fields if missing
        if(!entry.userAgent) entry.userAgent = navigator.userAgent;
        if(!entry.pageUrl) entry.pageUrl = location.href;
        if(!entry.timezone) entry.timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
        if(!entry.submittedAt) entry.submittedAt = new Date(entry.createdAt).toISOString();
        
        // Send to Sheets
        const result = await sendWaitlistToSheets(entry);
        
        if(result.ok){
          // Mark as sent
          entry.sentToSheets = true;
          sentCount++;
          
          // Update localStorage
          const allWaitlist = getWaitlist();
          const index = allWaitlist.findIndex(e => e.id === entry.id);
          if(index !== -1){
            allWaitlist[index].sentToSheets = true;
            localStorage.setItem("l2n_waitlist", JSON.stringify(allWaitlist));
          }
        } else {
          failedCount++;
        }
        
        // Delay between requests (250ms)
        if(i < notSent.length - 1){
          await new Promise(resolve => setTimeout(resolve, 250));
        }
      }
      
      // Update UI
      progressEl.textContent = `Done! Sent: ${sentCount}, Failed: ${failedCount}`;
      btn.disabled = false;
      btn.textContent = `Send all local leads to Sheets (${notSent.length - sentCount} pending)`;
      
      // Refresh admin panel after 2 seconds
      setTimeout(() => {
        renderAdminPanel();
      }, 2000);
    }
    
    // Send waitlist entry to Google Sheets via Apps Script Web App
    // Returns: {ok: true} on success; {ok: false, skipped: true} if not configured; {ok: false, error: "..."} on failure
    async function sendWaitlistToSheets(record){
      if(!WAITLIST_ENDPOINT || WAITLIST_ENDPOINT.includes("PASTE_")){
        return {ok: false, skipped: true};
      }
      
      const controller = new AbortController();
      const timeoutId = setTimeout(() => controller.abort(), 8000);
      
      try{
        const response = await fetch(WAITLIST_ENDPOINT, {
          method: "POST",
          headers: {
            "Content-Type": "text/plain;charset=utf-8"
          },
          body: JSON.stringify(record),
          signal: controller.signal
        });
        
        clearTimeout(timeoutId);
        
        if(!response.ok){
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        try{
          await response.json();
        } catch(e){
          await response.text();
        }
        
        return {ok: true};
      } catch(error){
        clearTimeout(timeoutId);
        const message = error.name === "AbortError" ? "Request timeout" : (error.message || "Unknown error");
        console.error("Error sending to Sheets:", error);
        return {ok: false, error: message};
      }
    }
    // <!-- /SHEETS INTEGRATION -->
    
    function showError(id, message){
      const el = document.getElementById(id);
      if(el){
        el.textContent = message;
        el.classList.add("show");
      }
    }
    
    function showSuccessScreen(entry){
      const form = document.getElementById("waitlist-form");
      const success = document.getElementById("success-screen");
      const inviteLink = document.getElementById("invite-link");
      const positionNumber = document.getElementById("position-number");
      
      // Calculate position
      const waitlist = getWaitlist();
      const position = waitlist.findIndex(e => e.email === entry.email) + 1;
      positionNumber.textContent = `#${position}`;
      
      // Generate invite link
      const fullUrl = window.location.origin + window.location.pathname + "?ref=" + entry.refCode;
      inviteLink.textContent = fullUrl;
      
      // Show success screen
      form.style.display = "none";
      success.classList.add("show");
      
      // Scroll to success
      success.scrollIntoView({ behavior:"smooth", block:"start" });
    }
    
    // Copy invite link
    function copyInviteLink(){
      const link = document.getElementById("invite-link").textContent;
      if(navigator.clipboard && navigator.clipboard.writeText){
        navigator.clipboard.writeText(link).then(() => {
          alert("Link copied!");
        }).catch(() => {
          fallbackCopy(link);
        });
      } else {
        fallbackCopy(link);
      }
    }
    
    function fallbackCopy(text){
      const textarea = document.createElement("textarea");
      textarea.value = text;
      textarea.style.position = "fixed";
      textarea.style.opacity = "0";
      document.body.appendChild(textarea);
      textarea.select();
      try {
        document.execCommand("copy");
        alert("Link copied!");
      } catch(e){
        alert("Copy failed. Please copy manually: " + text);
      }
      document.body.removeChild(textarea);
    }
    
    // <!-- INVITE CODE GATE -->
    // Validate invite code and unlock access
    function validateInviteCode(){
      const input = document.getElementById("invite-code-input");
      const errorEl = document.getElementById("invite-code-error");
      const code = input.value.trim().toUpperCase();
      
      // Clear previous error
      errorEl.textContent = "";
      errorEl.classList.remove("show");
      
      // Validate format (6-10 alphanumeric characters)
      if(!code || code.length < 6 || code.length > 10 || !/^[A-Z0-9]+$/.test(code)){
        errorEl.textContent = "Invalid code format. Use 6-10 alphanumeric characters.";
        errorEl.classList.add("show");
        return;
      }
      
      // Check if code is valid
      if(VALID_INVITE_CODES.includes(code)){
        // Mark as unlocked
        localStorage.setItem("l2n_invite_unlocked", "1");
        
        // Redirect to app
        window.location.href = APP_URL;
      } else {
        errorEl.textContent = "Invalid code. Join the waitlist.";
        errorEl.classList.add("show");
      }
    }
    
    // Allow Enter key to submit invite code
    document.addEventListener("DOMContentLoaded", function(){
      const inviteInput = document.getElementById("invite-code-input");
      if(inviteInput){
        inviteInput.addEventListener("keypress", function(e){
          if(e.key === "Enter"){
            validateInviteCode();
          }
        });
      }
    });
    // <!-- /INVITE CODE GATE -->
    
    // Modal functions
    function openModal(id){
      document.getElementById(id + "-modal").style.display = "flex";
      // Focus on invite code input if opening invite code modal
      if(id === "invite-code"){
        setTimeout(() => {
          const input = document.getElementById("invite-code-input");
          if(input) input.focus();
        }, 100);
      }
    }
    
    function closeModal(id){
      document.getElementById(id + "-modal").style.display = "none";
      // Clear invite code input on close
      if(id === "invite-code"){
        const input = document.getElementById("invite-code-input");
        const errorEl = document.getElementById("invite-code-error");
        if(input) input.value = "";
        if(errorEl){
          errorEl.textContent = "";
          errorEl.classList.remove("show");
        }
      }
    }
    
    // Close modal on click outside
    document.addEventListener("click", function(e){
      if(e.target.classList.contains("modal")){
        e.target.style.display = "none";
      }
    });
    
    // FAQ Accordion
    function toggleFaq(index){
      const button = document.getElementById(`faq-question-${index}`);
      if(!button) return;
      
      const item = button.closest('.faq-item');
      const isActive = item.classList.contains('active');
      const answer = document.getElementById(`faq-answer-${index}`);
      
      // Close all other items
      document.querySelectorAll('.faq-item').forEach(faqItem => {
        if(faqItem !== item){
          faqItem.classList.remove('active');
          const otherButton = faqItem.querySelector('.faq-question');
          const otherAnswer = faqItem.querySelector('.faq-answer');
          if(otherButton) otherButton.setAttribute('aria-expanded', 'false');
          if(otherAnswer){
            otherAnswer.style.maxHeight = '0';
            otherAnswer.style.opacity = '0';
          }
        }
      });
      
      // Toggle current item
      if(isActive){
        item.classList.remove('active');
        button.setAttribute('aria-expanded', 'false');
        answer.style.maxHeight = '0';
        answer.style.opacity = '0';
    } else {
        item.classList.add('active');
        button.setAttribute('aria-expanded', 'true');
        // Set max-height to actual content height
        answer.style.maxHeight = answer.scrollHeight + 'px';
        answer.style.opacity = '1';
      }
    }
    
    // Initialize
    toggleNeighborhood();
  </script>
</body>
</html>
